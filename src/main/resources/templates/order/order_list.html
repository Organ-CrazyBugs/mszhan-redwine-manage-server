<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head th:include="/includes/ui_libs::payload('订单管理')"></head>

<script type="text/javascript" src="/ui-lib/main/js/order/order_list.js"></script>
<script type="text/javascript" src="/ui-lib/main/js/order/order_create_popup.js"></script>
<script type="text/javascript" src="/ui-lib/main/js/product/select_product_popup.js"></script>
<body>
<!-- 一级导航菜单 -->
<div th:include="/includes/nav_bar::payload('ORDER')"></div>
<!-- 二级导航菜单 -->
<div th:include="/includes/nav_bar_level2::payload('ORDER', 'ORDER_LIST')"></div>

<div th:include="/order/order_create_popup::payload('创建订单', 'order-create-popup-modal')"></div>
<div th:include="/product/select_product_popup::payload('选择产品', 'select-product-popup-modal', 'createOrderSelectProductCallback')"></div>

<main class="container">
    <input id="contextAgentType" type="hidden" th:value="${agentType}" />
    <div class="my-3 p-3 bg-white rounded box-shadow">
        <!-- 页面内容在此处填充 -->
        <form id="table-query-form" class="table-query-form" action="#">
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text query-form-label">所属代理</div>
                        </div>
                        <select name="agentId" class="custom-select">
                            <option selected="selected" value="">全部</option>
                            <option th:each="agent,record:${agents}" th:value="${agent.get('id')}" th:text="${agent.get('name') + '(' + agent.get('phone') + ')'}"></option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text query-form-label">订单状态</div>
                        </div>
                        <select name="orderStatus" class="custom-select">
                            <option selected="selected" value="">全部</option>
                            <option value="WAIT_DEAL">待处理</option>
                            <option value="SHIPPED">已发货</option>
                            <option value="REMOVED">已删除</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text query-form-label">付款状态</div>
                        </div>
                        <select name="paymentStatus" class="custom-select">
                            <option selected="selected" value="">全部</option>
                            <option value="UNPAID">未付款</option>
                            <option value="PAID">已付款</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text query-form-label">订单编号</div>
                        </div>
                        <input name="orderId" type="text" class="form-control" placeholder="订单编号" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text query-form-label">产品条码</div>
                        </div>
                        <input name="sku" type="text" class="form-control" placeholder="产品条码" />
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text query-form-label">产品名称</div>
                        </div>
                        <input name="productName" type="text" class="form-control" placeholder="产品名称" />
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text query-form-label">产品品牌</div>
                        </div>
                        <input name="brandName" type="text" class="form-control" placeholder="产品品牌" />
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="btn-group mr-2">
                        <button type="button" class="btn btn-outline-primary" data-toggle="modal" data-target="#order-create-popup-modal">&nbsp;新建&nbsp;</button>
                        <button id="order-print-output-btn" type="button" class="btn btn-outline-primary">&nbsp;打印出库单&nbsp;</button>
                        <button id="order-mark-payment-btn" type="button" class="btn btn-outline-primary">&nbsp;标账&nbsp;</button>
                        <button type="button" class="btn btn-outline-primary">&nbsp;销单&nbsp;</button>
                    </div>
                </div>
                <div class="col-md-6 text-right">
                    <button type="submit" class="btn btn-outline-primary">&nbsp;<i class="fa fa-search"></i>&nbsp;查&nbsp;询&nbsp;</button>
                </div>
            </div>
        </form>
        <div class="row">
            <div class="col-md-12">
                <table id="table"></table>
            </div>
        </div>

        <form id="print-output-warehouse-form" target="_blank" action="/page/order/print_output" method="post">
            <input type="hidden" name="orderIds" />
        </form>
    </div>
</main>
</body>
</html>